scoreboard players set $stack_size temp 1
data modify storage 20w14s:cat_items Stack set value []
function 20w14s:mobs/cat_items/store_stack_recursive
data modify storage 20w14s:cat_items Stack prepend from storage 20w14s:cat_items StackTop
execute unless score $stack_size temp matches ..20 run tellraw @a[distance=..6,limit=1,tag=20w14s.catOwner] [{"text":"mcfunction.20w14s.StackOverflowError\n\n  in:", "color": "red"}, "\n  ", {"selector":"@s"}, ".\n    ", {"selector":"@e[type=cat,tag=20w14s.cat_items.stackPart,scores={temp=1},limit=1]"}, ".\n      ", {"selector":"@e[type=cat,tag=20w14s.cat_items.stackPart,scores={temp=2},limit=1]"}, ".\n        ", {"selector":"@e[type=cat,tag=20w14s.cat_items.stackPart,scores={temp=3},limit=1]"}, ".\n          ", {"selector":"@e[type=cat,tag=20w14s.cat_items.stackPart,scores={temp=4},limit=1]"}, ".\n            ", {"selector":"@e[type=cat,tag=20w14s.cat_items.stackPart,scores={temp=5},limit=1]"}, ".\n               ", {"selector":"@e[type=cat,tag=20w14s.cat_items.stackPart,scores={temp=6},limit=1]"}, ".\n                  ", {"selector":"@e[type=cat,tag=20w14s.cat_items.stackPart,scores={temp=7},limit=1]"}, ".\n                    and 12 more.\n\nPlease message a psychiatrist if you are unable to stop stacking cats."]
execute unless score $stack_size temp matches ..20 run data remove entity @s Sitting
execute unless score $stack_size temp matches ..20 run tag @e[type=cat] remove 20w14s.cat_items.stackPart
execute if score $stack_size temp matches ..20 run function 20w14s:mobs/cat_items/new_stack